@import './car-tow-variables';
@import './colors';

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: map-get($z-index, 'modal');
  animation: fadeIn 0.2s ease-out;

  .modal-content {
    background-color: var(--side-bar-color);
    border-radius: map-get($border-radius, 'lg');
    padding: map-get($spacing, 'xl');
    width: 90%;
    max-width: 500px;
    position: relative;
    animation: slideIn 0.3s ease-out;

    h2 {
      margin-bottom: map-get($spacing, 'lg');
      text-align: center;
    }

    form {
      .input-group {
        margin-bottom: map-get($spacing, 'lg');

        label {
          display: block;
          margin-bottom: map-get($spacing, 'xs');
          color: var(--normal-text-color);
          font-size: map-get($font-sizes, 'normal');
        }

        input {
          width: 100%;
          height: 48px;
          padding: 0 map-get($spacing, 'md');
          border: 2px solid var(--borders-color);
          border-radius: map-get($border-radius, 'md');
          background-color: var(--bg-color);
          color: var(--normal-text-color);
          font-size: map-get($font-sizes, 'normal');
          transition: all map-get($transitions, 'fast');

          &:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px var(--secondary-color);
          }

          &::placeholder {
            color: var(--light-text-color);
          }
        }
      }

      .modal-actions {
        display: flex;
        justify-content: flex-end;
        gap: map-get($spacing, 'md');
        margin-top: map-get($spacing, 'xl');

        button {
          padding: map-get($spacing, 'sm') map-get($spacing, 'lg');
          border-radius: map-get($border-radius, 'md');
          font-size: map-get($font-sizes, 'normal');
          font-weight: map-get($font-weights, 'medium');
          transition: all map-get($transitions, 'fast');

          &.cancel-btn {
            background-color: var(--bg-color);
            color: var(--normal-text-color);
            border: 1px solid var(--borders-color);

            &:hover:not(:disabled) {
              background-color: var(--borders-color);
            }
          }

          &.submit-btn {
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            gap: map-get($spacing, 'sm');

            &:hover:not(:disabled) {
              transform: translateY(-1px);
              box-shadow: map-get($shadows, 'md');
            }

            .loading-spinner {
              width: 20px;
              height: 20px;
              border: 2px solid rgba(255, 255, 255, 0.3);
              border-radius: 50%;
              border-top-color: white;
              animation: spin 0.8s linear infinite;
            }
          }

          &:disabled {
            opacity: 0.7;
            cursor: not-allowed;
          }
        }
      }
    }
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideIn {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@include responsive('sm') {
  .modal-overlay {
    .modal-content {
      padding: map-get($spacing, 'lg');
      width: 95%;

      h2 {
        font-size: map-get($font-sizes, 'lg');
      }

      form {
        .input-group {
          input {
            height: 44px;
          }
        }

        .modal-actions {
          button {
            padding: map-get($spacing, 'xs') map-get($spacing, 'md');
            font-size: map-get($font-sizes, 'sm');
          }
        }
      }
    }
  }
}