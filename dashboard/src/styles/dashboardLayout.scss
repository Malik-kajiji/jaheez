@import './car-tow-variables';
@import './colors';

.dashboard-layout {
  min-height: 100vh;
  background-color: var(--bg-color);
  display: flex;
  overflow-x: hidden;

  &.sidebar-closed {
    .sidebar {
      width: 80px;
      
      .logo img {
        width: 40px;
      }
      
      .label {
        display: none;
      }
    }
    
    .main-content {
      margin-left: 80px;
    }
  }
}

.sidebar {
  width: 260px;
  height: 100vh;
  background-color: var(--side-bar-color);
  border-right: 1px solid var(--borders-color);
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  transition: map-get($transitions, 'normal');
  overflow-y: auto;
  overflow-x: hidden;

  .sidebar-header {
    padding: map-get($spacing, 'lg');
    @include flex(row, space-between, center);
    border-bottom: 1px solid var(--borders-color);
    background-color: var(--side-bar-color);
    position: sticky;
    top: 0;

    .logo {
      img {
        height: 40px;
        width: auto;
        transition: map-get($transitions, 'normal');
      }
    }

    .toggle-btn {
      @include flex(row, center, center);
      width: 36px;
      height: 36px;
      border-radius: map-get($border-radius, 'md');
      color: var(--normal-text-color);
      background-color: transparent;
      transition: map-get($transitions, 'fast');

      &:hover {
        background-color: var(--bg-color);
      }

      svg {
        width: 20px;
        height: 20px;
      }
    }
  }

  .sidebar-nav {
    flex: 1;
    padding: map-get($spacing, 'md');
    display: flex;
    flex-direction: column;
    gap: map-get($spacing, 'sm');

    .nav-item {
      @include flex(row, flex-start, center);
      gap: map-get($spacing, 'md');
      padding: map-get($spacing, 'md');
      border-radius: map-get($border-radius, 'md');
      color: var(--normal-text-color);
      transition: map-get($transitions, 'fast');

      .icon {
        @include flex(row, center, center);
        width: 24px;
        height: 24px;
        
        svg {
          width: 20px;
          height: 20px;
        }
      }

      &:hover {
        background-color: var(--bg-color);
      }

      &.active {
        background-color: var(--primary-color);
        color: white;
      }
    }
  }

  .sidebar-footer {
    padding: map-get($spacing, 'md');
    border-top: 1px solid var(--borders-color);
    background-color: var(--side-bar-color);
    position: sticky;
    bottom: 0;

    .logout-btn {
      @include flex(row, flex-start, center);
      gap: map-get($spacing, 'md');
      width: 100%;
      padding: map-get($spacing, 'md');
      border-radius: map-get($border-radius, 'md');
      color: var(--danger-color);
      background-color: var(--danger-bg);
      transition: map-get($transitions, 'fast');

      .icon {
        @include flex(row, center, center);
        width: 24px;
        height: 24px;
        
        svg {
          width: 20px;
          height: 20px;
        }
      }

      &:hover {
        background-color: var(--danger-color);
        color: white;
      }
    }
  }
}

.main-content {
  flex: 1;
  margin-left: 260px;
  min-height: 100vh;
  background-color: var(--bg-color);
  transition: map-get($transitions, 'normal');

  .top-bar {
    height: 70px;
    padding: 0 map-get($spacing, 'lg');
    @include flex(row, space-between, center);
    border-bottom: 1px solid var(--borders-color);
    background-color: var(--side-bar-color);
    position: sticky;
    top: 0;

    .mobile-menu-btn {
      display: none;
      @include flex(row, center, center);
      width: 40px;
      height: 40px;
      border-radius: map-get($border-radius, 'md');
      color: var(--normal-text-color);
      background-color: transparent;
      transition: map-get($transitions, 'fast');

      svg {
        width: 24px;
        height: 24px;
      }

      &:hover {
        background-color: var(--bg-color);
      }
    }
  }

  .content-wrapper {
    padding: map-get($spacing, 'xl');
  }
}

// Responsive Design
@include responsive('md') {
  .dashboard-layout {
    &.sidebar-closed {
      .sidebar {
        transform: translateX(-100%);
      }
      
      .main-content {
        margin-left: 0;
      }
    }
  }

  .sidebar {
    transform: translateX(-100%);

    &.open {
      transform: translateX(0);
    }
  }

  .main-content {
    margin-left: 0;

    .top-bar {
      .mobile-menu-btn {
        display: flex;
      }
    }

    .content-wrapper {
      padding: map-get($spacing, 'lg');
    }
  }
}

@include responsive('sm') {
  .main-content {
    .content-wrapper {
      padding: map-get($spacing, 'md');
    }
  }
}